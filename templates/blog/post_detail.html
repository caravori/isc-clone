{% extends 'base.html' %}

{% block title %}{{ post.title }} - {{ block.super }}{% endblock %}

{% block content %}
<div class="card">
    <h1>{{ post.title }}</h1>
    <p class="text-muted">
        By {{ post.author.get_full_name|default:post.author.username }} | 
        Published: {{ post.published_date|date:"F j, Y, g:i a" }}
        {% if post.category %}
            | Category: <a href="{% url 'blog:category_posts' post.category.slug %}">{{ post.category.name }}</a>
        {% endif %}
        | Views: {{ post.views_count }}
    </p>
    
    {% if post.tags.all %}
    <p class="text-muted">
        Tags: 
        {% for tag in post.tags.all %}
            <a href="{% url 'blog:tag_posts' tag.slug %}" style="background: #e5e7eb; padding: 0.25rem 0.5rem; border-radius: 4px; text-decoration: none; color: #374151; margin-right: 0.5rem;">
                {{ tag.name }}
            </a>
        {% endfor %}
    </p>
    {% endif %}
    
    <hr style="margin: 1.5rem 0; border: none; border-top: 1px solid #e5e7eb;">
    
    <div class="post-content">
        {{ post.content|safe }}
    </div>
</div>

{% if related_posts %}
<div class="card">
    <h3>Related Posts</h3>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin-top: 1rem;">
        {% for related in related_posts %}
        <div style="border: 1px solid #e5e7eb; padding: 1rem; border-radius: 4px;">
            <h4 style="margin-bottom: 0.5rem;">
                <a href="{% url 'blog:post_detail' related.slug %}" style="color: #3b82f6; text-decoration: none;">
                    {{ related.title }}
                </a>
            </h4>
            <p class="text-muted" style="font-size: 0.875rem;">
                {{ related.published_date|date:"F j, Y" }}
            </p>
        </div>
        {% endfor %}
    </div>
</div>
{% endif %}

<div class="card">
    <a href="{% url 'blog:post_list' %}" class="btn">‚Üê Back to All Posts</a>
</div>
{% endblock %}
