{% extends 'base.html' %}

{% block title %}{{ post.title }} - {{ block.super }}{% endblock %}

{% block content %}
<div class="card">
    <h1>{{ post.title }}</h1>
    
    <div style="padding: 1rem; background: #f9fafb; border-radius: 4px; margin: 1rem 0;">
        <p style="margin: 0;"><strong>Author:</strong> {{ post.author.get_full_name|default:post.author.username }}</p>
        <p style="margin: 0.25rem 0 0 0;" class="text-muted">Published: {{ post.published_date|date:"F j, Y, g:i a" }}
        {% if post.category %} | Category: <a href="{% url 'blog:category_posts' post.category.slug %}">{{ post.category.name }}</a>{% endif %}
        | {{ post.views_count }} views</p>
    </div>
    
    {% if post.tags.all %}
    <div style="margin-bottom: 1.5rem;">
        {% for tag in post.tags.all %}
            <a href="{% url 'blog:tag_posts' tag.slug %}" class="tag">{{ tag.name }}</a>
        {% endfor %}
    </div>
    {% endif %}
    
    <hr>
    
    <div class="post-content" style="line-height: 1.8;">
        {{ post.content|safe }}
    </div>
</div>

{% if related_posts %}
<div class="card">
    <h3>Related Articles</h3>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin-top: 1rem;">
        {% for related in related_posts %}
        <div style="border: 1px solid #e5e7eb; padding: 1rem; border-radius: 4px;">
            <h4 style="margin-bottom: 0.5rem;">
                <a href="{% url 'blog:post_detail' related.slug %}" style="color: #2d5016; text-decoration: none;">{{ related.title }}</a>
            </h4>
            <p class="text-muted">{{ related.published_date|date:"M j, Y" }}</p>
        </div>
        {% endfor %}
    </div>
</div>
{% endif %}

<div class="card">
    <a href="{% url 'blog:post_list' %}" class="btn-secondary btn">Back to All Posts</a>
</div>
{% endblock %}
