{% extends 'base.html' %}

{% block title %}{{ post.title }} - {{ block.super }}{% endblock %}

{% block content %}
<div class="card">
    <h1 style="color: #065f46; line-height: 1.3; margin-bottom: 1rem;">{{ post.title }}</h1>
    
    <div style="display: flex; flex-wrap: wrap; gap: 1rem; align-items: center; padding: 1rem; background: #f9fafb; border-radius: 8px; margin-bottom: 1.5rem;">
        <div style="flex: 1; min-width: 200px;">
            <p style="margin: 0;">
                <strong style="color: #10b981;">ğŸ‘¤ {{ post.author.get_full_name|default:post.author.username }}</strong>
            </p>
            <p class="text-muted" style="margin: 0.25rem 0 0 0;">
                ğŸ“… {{ post.published_date|date:"F j, Y, g:i a" }}
            </p>
        </div>
        {% if post.category %}
        <a href="{% url 'blog:category_posts' post.category.slug %}" class="tag" style="font-size: 1rem;">
            ğŸ“š {{ post.category.name }}
        </a>
        {% endif %}
        <span style="background: #e5e7eb; color: #4b5563; padding: 0.5rem 1rem; border-radius: 8px; font-weight: 500;">
            ğŸ‘ {{ post.views_count }} views
        </span>
    </div>
    
    {% if post.tags.all %}
    <div style="margin-bottom: 1.5rem;">
        <strong style="color: #6b7280; font-size: 0.9rem;">TAGS:</strong>
        {% for tag in post.tags.all %}
            <a href="{% url 'blog:tag_posts' tag.slug %}" class="tag">
                #{{ tag.name }}
            </a>
        {% endfor %}
    </div>
    {% endif %}
    
    <hr>
    
    <div class="post-content" style="font-size: 1.05rem; line-height: 1.8; color: #1f2937;">
        {{ post.content|safe }}
    </div>
</div>

{% if related_posts %}
<div class="card" style="background: #f9fafb;">
    <h3 style="color: #065f46; margin-bottom: 1.5rem;">ğŸ”— Related Articles</h3>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1rem;">
        {% for related in related_posts %}
        <div style="background: white; border: 1px solid #e5e7eb; padding: 1.25rem; border-radius: 8px; transition: all 0.2s;" onmouseover="this.style.borderColor='#10b981'; this.style.boxShadow='0 4px 6px rgba(16, 185, 129, 0.2)'" onmouseout="this.style.borderColor='#e5e7eb'; this.style.boxShadow='none'">
            <h4 style="margin-bottom: 0.5rem;">
                <a href="{% url 'blog:post_detail' related.slug %}" style="color: #065f46; text-decoration: none;">
                    {{ related.title|truncatewords:10 }}
                </a>
            </h4>
            <p class="text-muted" style="font-size: 0.875rem;">
                {{ related.published_date|date:"M j, Y" }}
            </p>
        </div>
        {% endfor %}
    </div>
</div>
{% endif %}

<div class="card">
    <a href="{% url 'blog:post_list' %}" class="btn-secondary btn">â† Back to All Posts</a>
</div>
{% endblock %}
